#+title: Table

SmartDox DSLを使って記述したモデルの
サンプル文書です。

文書でサンプルモデルの定義をします。
本来は文書中の仕様記述の文書は
定義するモデルに対するものになります。

しかし、この文書ではSmartDox DSLの記述例として
SmartDox DSL文法の説明を記述することにします。

* サンプル文書の目的

このサンプル文書は表を中心にしてクラス定義するサンプルです。

登場人物、道具、出来事の各エンティティの種別の下に
顧客、商品、購入といった具象エンティティを節として
定義します。

そして、それらの節の下に属性一覧または特性一覧として
エンティティの属性や関連を記述していきます。

* 登場人物

** 顧客

#+caption: 属性一覧
| 名前   | 型      | カラム  | SQL型        |
|--------+---------+---------+--------------|
| 顧客ID | XToken  | ID      | CHAR(16)     |
| 名前   | XToken  | NAME    | VARCHAR(64)  |
| 住所   | XString | ADDRESS | VARCHAR(256) |

* 道具

** 商品

#+caption: 属性一覧
| 名前   | 型     | カラム | SQL型       |
|--------+--------+--------+-------------|
| 商品ID | XToken | ID     | CHAR(16)    |
| 名前   | XToken | NAME   | VARCHAR(32) |
| 定価   | XLong  | PRICE  | LONG        |

* 出来事

** 購入

#+caption: 特性一覧
| 特性 | 名前   | 型     | 多重度 | 派生       | カラム     | SQL型    |
|------+--------+--------+--------+------------+------------+----------|
| ID   | 購入ID | XToken |        |            | ID         | CHAR(16) |
| 属性 | 日付   | XDate  |        |            | DATE       | DATE     |
| 関連 | 顧客   | 顧客   |      1 |            | CUSTOMERID | CHAR(16) |
| 属性 | 顧客名 |        |        | 顧客.名前  |            |          |
| 関連 | 商品   | 商品   |      1 |            | GOODID     | CHAR(16) |
| 属性 | 数量   | XINT   |        |            | AMOUNT     | INT      |
| 属性 | 商品名 |        |        | 商品.名前  |            |          |
| 属性 | 単価   |        |        | 商品.定価  |            |          |
| 属性 | 総額   |        |        | 数量×単価 |            |          |
